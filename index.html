<!DOCTYPE html>
<html>
    <head>
        <title>FiotechLab</title>
        <!-- Boxicons CDN Link -->
        <!-- Link to external CSS file -->
        <link rel="stylesheet" href="style.css">
        <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    </head>
    <body>
        <div class="sidebar">
            <div class="logo-details">
                <i class='bx bxl-c-plus-plus icon'></i>
                <div class="logo_name">FiotechLab</div>
                <i class='bx bx-menu' id="btn"></i>
            </div>
            <ul class="nav-list">
                <li data-tooltip="Search">
                    <i class='bx bx-search'></i>
                    <input type="text" placeholder="Search...">
                </li>
                <li data-tooltip="Dashboard">
                    <a href="#">
                    <i class='bx bx-grid-alt'></i>
                    <span class="links_name">Dashboard</span>
                    </a>
                </li>
                <li data-tooltip="User">
                    <a href="#">
                    <i class='bx bx-user'></i>
                    <span class="links_name">User</span>
                    </a>
                </li>
                <li data-tooltip="Messages">
                    <a href="#">
                    <i class='bx bx-chat'></i>
                    <span class="links_name">Messages</span>
                    </a>
                </li>
                <li data-tooltip="Analytics">
                    <a href="#">
                    <i class='bx bx-pie-chart-alt-2'></i>
                    <span class="links_name">Analytics</span>
                    </a>
                </li>
                <li data-tooltip="Files">
                    <a href="#">
                    <i class='bx bx-folder'></i>
                    <span class="links_name">File Manager</span>
                    </a>
                </li>
                <li data-tooltip="Order">
                    <a href="#">
                    <i class='bx bx-cart-alt'></i>
                    <span class="links_name">Order</span>
                    </a>
                </li>
                <li data-tooltip="Saved">
                    <a href="#">
                    <i class='bx bx-heart'></i>
                    <span class="links_name">Saved</span>
                    </a>
                </li>
                <li data-tooltip="Setting">
                    <a href="#">
                    <i class='bx bx-cog'></i>
                    <span class="links_name">Setting</span>
                    </a>
                </li>
                <li class="profile">
                    <div class="profile-details">
                        <!--<img src="profile.jpg" alt="profileImg">-->
                        <div class="name_job">
                            <div class="name">Prem Shahi</div>
                            <div class="job">Web designer</div>
                        </div>
                    </div>
                    <i class='bx bx-log-out' id="log_out"></i>
                </li>
            </ul>
        </div>
        <section class="home-section">
            <div class="text">Dashboard</div>

            <!-- TradingView Widget BEGIN -->
            <div class="tradingview-widget-container">
                <div id="tradingview_chart"></div>
                <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
                <script type="text/javascript">
                new TradingView.widget({
                    "width": 1400,
                    "height": 800,
                    "symbol": "NASDAQ:AAPL",
                    "interval": "D",
                    "timezone": "Etc/UTC",
                    "theme": "light",
                    "style": "1",
                    "locale": "en",
                    "toolbar_bg": "#f1f3f6",
                    "enable_publishing": false,
                    "allow_symbol_change": true,
                    "container_id": "tradingview_chart"
                });
                </script>
            </div>
            <!-- TradingView Widget END -->
        </section>
        <div class="tooltip"></div>
        <script>
            let sidebar = document.querySelector(".sidebar");
            let closeBtn = document.querySelector("#btn");
            let searchBtn = document.querySelector(".bx-search");
            
            closeBtn.addEventListener("click", () => {
                sidebar.classList.toggle("open");
                menuBtnChange(); //calling the function(optional)
            });
            
            searchBtn.addEventListener("click", () => { // Sidebar open when you click on the search iocn
                sidebar.classList.toggle("open");
                menuBtnChange(); //calling the function(optional)
            });
            
            // following are the code to change sidebar button(optional)
            function menuBtnChange() {
                if (sidebar.classList.contains("open")) {
                    closeBtn.classList.replace("bx-menu", "bx-menu-alt-right"); //replacing the iocns class
                } else {
                    closeBtn.classList.replace("bx-menu-alt-right", "bx-menu"); //replacing the iocns class
                }
            }
            
            const tooltip = document.querySelector('.tooltip');
            console.log("tooltip ############################################", tooltip)
            
            const navList = document.querySelector('.nav-list');
            navList.addEventListener('mouseover', ({ target }) => {
                const item = target.matches('[data-tooltip]') ? target : target.closest('[data-tooltip]');
                if (item) {
                    const { top, right } = item.getBoundingClientRect();
                    console.log("############################################: Top", top)
                    console.log("############################################: Right", right)
                    tooltip.style.top = `${top}px`;
                    tooltip.style.left = `${right + 10}px`;
                    tooltip.innerText = item.dataset.tooltip;
                    tooltip.classList.add('show');
                    console.log("tooltip ############################################ add: ", tooltip.classList)
                }
            });
            navList.addEventListener('mouseout', ({ target }) => {
                const item = target.matches('[data-tooltip]') ? target : target.closest('[data-tooltip]');
                if (item) {
                    tooltip.classList.remove('show');
                    console.log("tooltip ############################################ remove: ", tooltip.classList)
                }
            });
        </script>
    </body>
</html>
